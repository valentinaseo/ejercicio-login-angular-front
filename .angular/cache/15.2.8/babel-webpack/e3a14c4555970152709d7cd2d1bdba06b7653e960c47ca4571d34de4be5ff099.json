{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/userservices.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ul\")(2, \"li\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"li\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.editProfile());\n    });\n    i0.ɵɵtext(8, \"Editar perfil\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.userProfile.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.userProfile.email);\n  }\n}\nfunction ProfileComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\")(1, \"div\")(2, \"label\", 3);\n    i0.ɵɵtext(3, \"Usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_ng_template_1_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.userProfile.username = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"label\", 3);\n    i0.ɵɵtext(8, \"Correo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_ng_template_1_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.userProfile.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"label\", 3);\n    i0.ɵɵtext(13, \"Contrase\\u00F1a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementStart(15, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_ng_template_1_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.userProfile.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\")(17, \"label\", 3);\n    i0.ɵɵtext(18, \"Nueva imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementStart(20, \"input\", 7);\n    i0.ɵɵlistener(\"change\", function ProfileComponent_ng_template_1_Template_input_change_20_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_ng_template_1_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.updateProfile());\n    });\n    i0.ɵɵtext(23, \" Guardar cambios \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_ng_template_1_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.cancelUpdate());\n    });\n    i0.ɵɵtext(25, \" Cancelar \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.userProfile.username);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.userProfile.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.userProfile.password);\n  }\n}\nexport class ProfileComponent {\n  editProfile() {\n    this.editValue = true;\n  }\n  constructor(UserService) {\n    this.UserService = UserService;\n    this.editValue = false;\n  }\n  ngOnInit() {\n    this.getUser();\n  }\n  getUser() {\n    this.UserService.getUser().subscribe(response => {\n      console.log(\"response: \", response);\n      this.userProfile = response;\n    }, error => {\n      console.log(\"Error: \", error);\n    });\n  }\n  cancelUpdate() {\n    this.editValue = false;\n  }\n  onFileSelected(event) {\n    this.selectFile = event.target.files[0];\n  }\n  updateProfile() {\n    this.UserService.updateUser(this.userProfile);\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserservicesService));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"editInfo\", \"\"], [3, \"click\"], [\"for\", \"\"], [\"type\", \"text\", \"name\", \"name\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Cambiar contrase\\u00F1a\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", \"name\", \"picture\", 3, \"change\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProfileComponent_div_0_Template, 9, 2, \"div\", 0);\n      i0.ɵɵtemplate(1, ProfileComponent_ng_template_1_Template, 26, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.editValue)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAAAA,2BAAuC;IAE3BA,YAAwB;IAAAA,iBAAK;IACjCA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAElCA,qBAAI;IACJA,iCAAgC;IAAxBA;MAAAA;MAAA;MAAA,OAASA,mCAAa;IAAA,EAAC;IAACA,6BAAa;IAAAA,iBAAS;;;;IAJ9CA,eAAwB;IAAxBA,iDAAwB;IACxBA,eAAqB;IAArBA,8CAAqB;;;;;;IAO7BA,4BAAM;IAEgBA,uBAAO;IAAAA,iBAAQ;IAAAA,qBAAI;IACjCA,gCAAkE;IAAnCA;MAAAA;MAAA;MAAA,OAAaA,oDACpD;IAAA,EADyE;IAAjEA,iBAAkE;IAGtEA,2BAAK;IACaA,sBAAM;IAAAA,iBAAQ;IAAAA,qBAAI;IAChCA,iCAAiE;IAAhCA;MAAAA;MAAA;MAAA,OAAaA,iDACtD;IAAA,EADwE;IAAhEA,iBAAiE;IAGrEA,4BAAK;IACaA,gCAAU;IAAAA,iBAAQ;IAAAA,sBAAI;IACpCA,iCAA2G;IAAnCA;MAAAA;MAAA;MAAA,OAAaA,oDAC7F;IAAA,EADkH;IAA1GA,iBAA2G;IAE/GA,4BAAK;IACaA,6BAAY;IAAAA,iBAAQ;IAAAA,sBAAI;IACtCA,iCAAoE;IAAlCA;MAAAA;MAAA;MAAA,OAAUA,4CAAsB;IAAA,EAAC;IAAnEA,iBAAoE;IAExEA,sBAAI;IACJA,kCAAkC;IAA1BA;MAAAA;MAAA;MAAA,OAASA,sCAAe;IAAA,EAAC;IAC7BA,kCACJ;IAAAA,iBAAS;IACTA,kCAAiC;IAAzBA;MAAAA;MAAA;MAAA,OAASA,qCAAc;IAAA,EAAC;IAC5BA,2BACJ;IAAAA,iBAAS;;;;IAtB0BA,eAAkC;IAAlCA,qDAAkC;IAKhCA,eAA+B;IAA/BA,kDAA+B;IAKQA,eAAkC;IAAlCA,qDAAkC;;;ACftH,OAAM,MAAOC,gBAAgB;EAK3BC,WAAW;IACT,IAAI,CAACC,SAAS,GAAC,IAAI;EACrB;EAEAC,YAAoBC,WAAgC;IAAhC,gBAAW,GAAXA,WAAW;IAN/B,cAAS,GAAS,KAAK;EAM+B;EAEtDC,QAAQ;IACN,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAA,OAAO;IACL,IAAI,CAACF,WAAW,CAACE,OAAO,EAAE,CACzBC,SAAS,CACPC,QAAY,IAAI;MACfC,OAAO,CAACC,GAAG,CAAC,YAAY,EAACF,QAAQ,CAAC;MAClC,IAAI,CAACG,WAAW,GAAGH,QAAQ;IAC7B,CAAC,EACAI,KAAK,IAAI;MACRH,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEE,KAAK,CAAC;IAC/B,CAAC,CACF;EACH;EAEAC,YAAY;IACV,IAAI,CAACX,SAAS,GAAC,KAAK;EACtB;EAEAY,cAAc,CAACC,KAAS;IACtB,IAAI,CAACC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EACzC;EAEAC,aAAa;IACX,IAAI,CAACf,WAAW,CAACgB,UAAU,CAAC,IAAI,CAACT,WAAW,CAAC;EAC/C;;AAtCWX,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR7B1B,iEAOM;MAENA,mHA4Bc;;;;MArCRA,qCAAkB","names":["i0","ProfileComponent","editProfile","editValue","constructor","UserService","ngOnInit","getUser","subscribe","response","console","log","userProfile","error","cancelUpdate","onFileSelected","event","selectFile","target","files","updateProfile","updateUser","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\zarat\\OneDrive\\Documentos\\Valentina\\proyecto-pendiente-bootcamp-1\\Login-Angular-05-06-2023\\src\\app\\user\\profile\\profile.component.html","C:\\Users\\zarat\\OneDrive\\Documentos\\Valentina\\proyecto-pendiente-bootcamp-1\\Login-Angular-05-06-2023\\src\\app\\user\\profile\\profile.component.ts"],"sourcesContent":["<div *ngIf=\"!editValue; else editInfo\">\r\n    <ul>\r\n        <li>{{userProfile.username}}</li>\r\n        <li>{{userProfile.email}}</li>\r\n    </ul>\r\n    <br>\r\n    <button (click)=\"editProfile()\">Editar perfil</button>\r\n</div>\r\n\r\n<ng-template #editInfo>\r\n    <form>\r\n        <div>\r\n            <label for=\"\">Usuario</label><br>\r\n            <input type=\"text\" name=\"name\" [(ngModel)]=\"userProfile.username\">\r\n        </div>\r\n\r\n        <div>\r\n            <label for=\"\">Correo</label><br>\r\n            <input type=\"email\" name=\"email\" [(ngModel)]=\"userProfile.email\">\r\n        </div>\r\n\r\n        <div>\r\n            <label for=\"\">Contraseña</label><br>\r\n            <input type=\"password\" name=\"password\" placeholder=\"Cambiar contraseña\" [(ngModel)]=\"userProfile.password\">\r\n        </div>\r\n        <div>\r\n            <label for=\"\">Nueva imagen</label><br>\r\n            <input type=\"file\" name=\"picture\" (change)=\"onFileSelected($event)\">\r\n        </div>\r\n        <br>\r\n        <button (click)=\"updateProfile()\">\r\n            Guardar cambios\r\n        </button>\r\n        <button (click)=\"cancelUpdate()\">\r\n            Cancelar\r\n        </button>\r\n    </form>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UserservicesService } from 'src/app/services/userservices.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent {\r\n  selectFile!:File;\r\n  userProfile!:any;\r\n  editValue:boolean=false;\r\n\r\n  editProfile(){\r\n    this.editValue=true;\r\n  }\r\n\r\n  constructor(private UserService: UserservicesService){}\r\n\r\n  ngOnInit(){\r\n    this.getUser();\r\n  }\r\n\r\n  getUser(){\r\n    this.UserService.getUser()\r\n    .subscribe(\r\n      (response:any) => {\r\n        console.log(\"response: \",response);\r\n        this.userProfile = response;\r\n      },\r\n      (error) => {\r\n        console.log(\"Error: \", error);\r\n      }\r\n    )\r\n  }\r\n\r\n  cancelUpdate(){\r\n    this.editValue=false;\r\n  }\r\n\r\n  onFileSelected(event:any){\r\n    this.selectFile = event.target.files[0];\r\n  }\r\n\r\n  updateProfile(){\r\n    this.UserService.updateUser(this.userProfile)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}